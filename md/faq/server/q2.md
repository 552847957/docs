#### Q. 我部署完成Demo服务后，客户端能登陆，但一只显示连接中
A. 请按照如下步骤检查：

1. 确保只有一个IM服务实例在运行。**社区版是单机单实例版本，如果启动多个实例会有异常，请确保只有一个实例启动。查询实例个数方法请百度，或者直接重启机器。**
2. 检查端口是否绑定失败。查看logs/wildfirechat.log 看里面是不是有异常抛出，看一下异常原因。异常原因里有bind失败就是端口被占用。需要找到使用该端口的应用并停止掉，然后重启IM服务。或者换一台服务器。
3. 检查服务器配置中的server.ip是否配置正确。server.ip应该是服务器的对外提供服务的IP地址。
4. **检查安全组是否将```1883```,```80```开放**
5. 检查端口是否对外开放。在服务器上使用``` curl http://localhost/api/version```或使用浏览器打开```http://localhost/api/version```看看是否返回一个json。然后再在另外一台电脑上用浏览器打开```http://{server.ip}/api/version```。 看看是否返回同样的json。
6. 检查客户端配置是否正确。确保客户端配置正确，**支持80端口，只支持一级域名和im二级域名**，比如im.example.com。
7. 检查客户端连接状态值，如果总是```kConnectionStatusSecretKeyMismatch```，说明请求token使用的clientId不是从协议栈获取的，或者部署多个环境，请求token的环境和客户端实际使用的环境不一致。
8. 如果客户端的连接状态是```kConnectionStatusRejected```，需要查看用户的状态，是不是被禁止登录。
9. 如果一直是好用的，突然某个客户端一直连接中，可能是被禁用，也可能是多端登录而客户端又没有处理好对应的错误码，请检查错误码，查看是不是[通用问题](../general.md)的问题8.
